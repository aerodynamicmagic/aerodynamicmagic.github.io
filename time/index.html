<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AerodynamicMagic</title>
  <link rel="icon" type="image/png" href="https://i.ibb.co/sp4TdqH2/EQW243-LOL.png">
</head>

<body>

<!-- BACK BUTTON -->
<a href="https://aerodynamicmagic.github.io" class="oldskool-link bluegrey-btn" style="margin:15px; display:inline-block;">
  ← Back
</a>

<!-- TOP IMAGE -->
<div class="img-container">
  <img src="https://i.ibb.co/G4HhxdFC/alarm-clock-icon-icon-search-engine-7.png" alt="Clock">
</div>

<style>
.img-container {
  background: linear-gradient(0deg, rgba(201,201,201,1) 0%, rgba(255,255,255,1) 99%);
  text-align: center;
}
.img-container img {
  width: 400px;
  max-width: 100%;
  display: block;
  margin: 0 auto;
}
@media (max-width: 450px) {
  .img-container img { width: 100%; }
}

/* Glossy link button */
.oldskool-link {
  padding: 12px 24px;
  font-family: Arial, sans-serif;
  font-size: 16px;
  color: white;
  text-decoration: none;
  border-radius: 8px;
  cursor: pointer;
  text-shadow: 0 1px 1px rgba(0,0,0,0.3);
  transition: background 0.25s ease;
}
.bluegrey-btn {
  background: linear-gradient(to bottom, #7f8fa6, #5c6b80);
}
.bluegrey-btn:hover {
  background: linear-gradient(to bottom, #9aa9c0, #6f7f95);
}
</style>

<header class="top-bar">
  <h1>Flight Time Calculator</h1>
</header>

<main class="container">

  <!-- TIME CALCULATOR MODULE -->
  <section class="card">
    <h2>When will this flight depart or arrive?</h2>

    <div id="timeCalc" class="time-calc">

      <div class="time-tabs">
        <button id="tabStart" class="time-tab active">Start → Arrival</button>
        <button id="tabEnd" class="time-tab">Arrival → Start</button>
      </div>

      <div class="time-row">
        <label>Flight duration:</label>
        <input type="number" id="flightHours" placeholder="Hours" min="0">
        <input type="number" id="flightMinutes" placeholder="Minutes" min="0" max="59">
      </div>

      <div class="time-row">
        <label>Time:</label>
        <input type="time" id="timeInput">
      </div>

      <div class="time-row">
        <label><input type="checkbox" id="ampmToggle"> 12‑hour mode</label>
      </div>

      <div class="time-btn-row">
        <button id="timeCalcBtn" class="oldskool-link bluegrey-btn">Calculate</button>
      </div>

      <div id="timeOutput" class="time-output" style="display:none;">
        Result:
        <p id="timeOutputValue"></p>
      </div>

    </div>
  </section>

</main>

<style>
.time-calc {
  margin-top: 12px;
  padding: 10px;
  background: #efefef;
  border: 1px solid #c0c0c0;
  font-family: Arial;
}
.time-tabs {
  display: flex;
  gap: 6px;
  margin-bottom: 8px;
}
.time-tab {
  flex: 1;
  padding: 6px;
  background: #ddd;
  border: 1px solid #aaa;
  cursor: pointer;
}
.time-tab.active {
  background: #bbb;
}
.time-row {
  display: flex;
  align-items: center;
  gap: 8px;
  margin: 6px 0;
}
.time-row input[type="number"] {
  width: 70px;
  padding: 4px;
}
.time-btn-row {
  display: flex;
  justify-content: flex-end;
  margin-top: 8px;
}
.time-output {
  margin-top: 12px;
  padding: 10px;
  background: linear-gradient(90deg, rgba(142,176,209,1) 0%, rgba(217,217,217,1) 100%);
  font-size: 19px;
}
.time-output p {
  font-size: 30px;
  transform: translateY(-25px);
  margin: 0;
}
</style>

<footer class="footer">
  <p>Demonstration only! Not for real-world flight planning.</p>
</footer>

<script>
function formatTime(h, m, ampm) {
  if (!ampm) return `${String(h).padStart(2,"0")}:${String(m).padStart(2,"0")}`;
  let suffix = h >= 12 ? "PM" : "AM";
  let hh = h % 12;
  if (hh === 0) hh = 12;
  return `${hh}:${String(m).padStart(2,"0")} ${suffix}`;
}

(function setupTimeCalc(){

  const tabStart = document.getElementById("tabStart");
  const tabEnd = document.getElementById("tabEnd");
  const timeInput = document.getElementById("timeInput");
  const ampmToggle = document.getElementById("ampmToggle");
  const calcBtn = document.getElementById("timeCalcBtn");
  const outBox = document.getElementById("timeOutput");
  const outVal = document.getElementById("timeOutputValue");

  const flightHours = document.getElementById("flightHours");
  const flightMinutes = document.getElementById("flightMinutes");

  let mode = "start";

  tabStart.onclick = () => {
    mode = "start";
    tabStart.classList.add("active");
    tabEnd.classList.remove("active");
    outBox.style.display = "none";
  };

  tabEnd.onclick = () => {
    mode = "end";
    tabEnd.classList.add("active");
    tabStart.classList.remove("active");
    outBox.style.display = "none";
  };

  calcBtn.onclick = () => {

    if (!timeInput.value) return;
    if (!flightHours.value && !flightMinutes.value) return;

    const [h, m] = timeInput.value.split(":").map(Number);

    let total = h * 60 + m;
    const dur = (Number(flightHours.value) * 60) + Number(flightMinutes.value);

    if (mode === "start") total += dur;
    else total -= dur;

    total = (total + 1440) % 1440;

    const outH = Math.floor(total / 60);
    const outM = total % 60;

    outVal.textContent = formatTime(outH, outM, ampmToggle.checked);
    outBox.style.display = "block";
  };

  ampmToggle.onchange = () => {
    if (timeInput.value && outBox.style.display === "block") calcBtn.onclick();
  };

})();
</script>

</body>
</html>
