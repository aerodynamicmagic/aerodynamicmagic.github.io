<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AerodynamicMagic</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="icon" type="image/png" href="https://i.ibb.co/sp4TdqH2/EQW243-LOL.png">

</head>
<body>

    <div class="img-container">
  <img src="https://i.ibb.co/G4HhxdFC/alarm-clock-icon-icon-search-engine-7.png" alt="error">
</div>

<style>
    .img-container{background: #c9c9c9;
background: linear-gradient(0deg, rgba(201, 201, 201, 1) 0%, rgba(255, 255, 255, 1) 99%);}
  .img-container img {
    width: 400px;
    max-width: 100%;
    display: block;
  }

  @media (max-width: 450px) {
    .img-container img {
      width: 100%;
    }
  }
</style>

  <header class="top-bar">
    <h1>Aviation Range & Time Calculator</h1>
  </header>

  <main class="container">

    <!-- Aircraft Search -->
    <section class="card">
      <h2>Search Aircraft</h2>
      <input
        type="text"
        id="aircraftSearch"
        placeholder="Type aircraft name (A320, B737, C172...)"
      />
      <div id="aircraftSuggestions" class="suggestions"></div>
      <div id="aircraftInfo" class="aircraft-info"></div>
    </section>

    <!-- Distance Input -->
    <section class="card">
      <h2>Distance Input</h2>

      <div class="unit-bar">
        <button class="unit-btn active" data-unit="km">Kilometers</button>
        <button class="unit-btn" data-unit="nm">Nautical miles</button>
        <button class="unit-btn" data-unit="mi">Miles</button>
        <button class="unit-btn" data-unit="m">Meters</button>
      </div>

      <div class="distance-input-row">
        <input type="number" id="distanceInput" placeholder="Enter distance" min="0" />
        <span id="unitLabel">km</span>
      </div>

      <button id="calculateBtn" class="primary-btn">Calculate</button>
      <div id="distanceError" class="error-msg"></div>
    </section>

    <!-- Results -->
    <section id="resultsSection" class="card results-large">
      <h2>Results</h2>
      <div id="resultsContent" class="results-content">
        <p>No calculation yet. Choose an aircraft and enter a distance.</p>
      </div>
    </section>


<!-- TIME CALCULATOR MODULE -->
<div id="timeCalc" class="time-calc">

  <div class="time-tabs">
    <button id="tabStart" class="time-tab active">Start → Arrival</button>
    <button id="tabEnd" class="time-tab">Arrival → Start</button>
  </div>

  <div class="time-row">
    <label>Flight duration:</label>
    <input type="number" id="flightHours" placeholder="Hours" min="0">
    <input type="number" id="flightMinutes" placeholder="Minutes" min="0" max="59">
  </div>

  <div class="time-row">
    <label>Time:</label>
    <input type="time" id="timeInput">
  </div>

  <div class="time-row">
    <label><input type="checkbox" id="ampmToggle"> 12‑hour mode</label>
  </div>

  <div class="time-btn-row">
    <button id="timeCalcBtn" class="oldskool-btn bluegrey-btn">Calculate</button>
  </div>

  <div id="timeOutput" class="time-output" style="display:none;">
    Result:
    <p id="timeOutputValue"></p>
  </div>

</div>

<style>
.time-calc {
  margin-top: 12px;
  padding: 10px;
  background: #efefef;
  border: 1px solid #c0c0c0;
  font-family: Arial;
}

.time-tabs {
  display: flex;
  gap: 6px;
  margin-bottom: 8px;
}

.time-tab {
  flex: 1;
  padding: 6px;
  background: #ddd;
  border: 1px solid #aaa;
  cursor: pointer;
}

.time-tab.active {
  background: #bbb;
}

.time-row {
  display: flex;
  align-items: center;
  gap: 8px;
  margin: 6px 0;
}

.time-row input[type="number"] {
  width: 70px;
  padding: 4px;
}

.time-btn-row {
  display: flex;
  justify-content: flex-end;
  margin-top: 8px;
}

.oldskool-btn {
  padding: 10px 20px;
  font-size: 15px;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  text-shadow: 0 1px 1px rgba(0,0,0,0.3);
  transition: background 0.25s ease;
}

.bluegrey-btn {
  background: linear-gradient(to bottom, #7f8fa6, #5c6b80);
}

.bluegrey-btn:hover {
  background: linear-gradient(to bottom, #9aa9c0, #6f7f95);
}

.time-output {
  margin-top: 12px;
  padding: 10px;
  background: linear-gradient(90deg, rgba(142,176,209,1) 0%, rgba(217,217,217,1) 100%);
  font-size: 19px;
}

.time-output p {
  font-size: 30px;
  transform: translateY(-25px);
  margin: 0;
}
</style>

<script>
function formatTime(h, m, ampm) {
  if (!ampm) return `${String(h).padStart(2,"0")}:${String(m).padStart(2,"0")}`;

  let suffix = h >= 12 ? "PM" : "AM";
  let hh = h % 12;
  if (hh === 0) hh = 12;

  return `${hh}:${String(m).padStart(2,"0")} ${suffix}`;
}

(function setupTimeCalc(){

  const tabStart = document.getElementById("tabStart");
  const tabEnd = document.getElementById("tabEnd");
  const timeInput = document.getElementById("timeInput");
  const ampmToggle = document.getElementById("ampmToggle");
  const calcBtn = document.getElementById("timeCalcBtn");
  const outBox = document.getElementById("timeOutput");
  const outVal = document.getElementById("timeOutputValue");

  const flightHours = document.getElementById("flightHours");
  const flightMinutes = document.getElementById("flightMinutes");

  let mode = "start";

  tabStart.onclick = () => {
    mode = "start";
    tabStart.classList.add("active");
    tabEnd.classList.remove("active");
    outBox.style.display = "none";
  };

  tabEnd.onclick = () => {
    mode = "end";
    tabEnd.classList.add("active");
    tabStart.classList.remove("active");
    outBox.style.display = "none";
  };

  calcBtn.onclick = () => {

    if (!timeInput.value) return;
    if (!flightHours.value && !flightMinutes.value) return;

    const [h, m] = timeInput.value.split(":").map(Number);

    let total = h * 60 + m;
    const dur = (Number(flightHours.value) * 60) + Number(flightMinutes.value);

    if (mode === "start") total += dur;
    else total -= dur;

    total = (total + 1440) % 1440;

    const outH = Math.floor(total / 60);
    const outM = total % 60;

    outVal.textContent = formatTime(outH, outM, ampmToggle.checked);
    outBox.style.display = "block";
  };

  ampmToggle.onchange = () => {
    if (timeInput.value && outBox.style.display === "block") calcBtn.onclick();
  };

})();
</script>



  </main>

  <footer class="footer">
    <p>Demonstration only! Not for real-world flight planning.</p>
  </footer>

  <script src="script.js"></script>
</body>
</html>
